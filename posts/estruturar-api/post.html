<!--:::{
  "post_title": "Como estruturar as pastas de uma API REST",
  "post_description": "A melhor maneira que encontrei ate agora para organizar minha API",
  "post_created_at": "Wed May 04 2022 14:27:00 GMT-0300 (Horário Padrão de Brasília)"
}:::-->

<h2>Afinal, o que são os "controllers", "services" entre outros elementos em uma API REST?</h2>

<p>Vou explicar da maneira que eu entendo e estruturo minhas APIs. Para ficar mais clara as explicações, sugiro acompanhar olhando essa <a target="_blank" href="https://github.com/daniloflorenzano/inventario-api">API</a>, que é de onde vou tirar os exemplos.</p>

<p>Pra começar, consideraremos um projeto com a seguinte estrutura de pastas:</p>
<ul>
  <li>config</li>
  <li>entity</li>
  <li>repository</li>
  <li>service</li>
  <li>controller</li>
  <li>route</li>
</ul>

<h3>Config</h3>
<p>Responsável por fazer a inicialização da conexão entre o servidor e o banco de dados.</p>

<h3>Entity</h3>
<p>As entidades representam basicamente as tabelas e seus respectivos campos que vão estar presentes no seu banco de dados.</p>

<h3>Repository</h3>
<p>Os repositórios ficam responsáveis por acessar os dados das entidades. Ex: Ações como incluir, editar, apagar, consultar, etc</p>
<p><i>No meu projeto usei uma ORM, que por sua vez ja me traz a classe de repositório, eu apenas a chamo passando a entidade como parâmetro.</i></p>

<h3>Service</h3>
<p>Os services ficam responsáveis pelas regras de negócio. Basicamente onde a lógica da sua aplicação vai ficar, onde vai ter, por exemplo, validações para os métodos que serão criados.</p>

<h3>Controller</h3>
<p>Os controller são onde você cria os métodos que estarão disponíveis para o cliente que vai consumir sua API. Basicamente onde fica o CRUD.</p>

<h3>Route</h3>
<p>As rotas definem como o cliente vai poder acessar sua API. Basicamente em uma API REST, voce deve definir por qual URL cada método vai ser acessado.</p>

<h3>Exemplo:</h3>
<img style="width: 100%" src="./imagem.png" alt="imagem de requisição no Postman">
<p>Para criar um item novo na minha API, eu preciso acessar a <b>Rota</b> "/item" com o método HTTP Post. Nessa rota vai ser chamado o método "createItem" presente no meu <b>Controller</b>. Esse método, por sua vez, encaminhara os dados para o <b>Service</b>, que validará de acordo com as regras de negocio da minha aplicação. Caso o service não retorne nenhum erro, será chamado o <b>Repositório</b> para enfim salvar o novo item no banco de dados.</p>

<hr />

<p>Aqui faço uma menção honrosa ao meu amigo <a target="_blank" href="https://www.linkedin.com/in/daniel-neves-frança/">Daniel França</a> que me ajudou a entender toda essa estrutura!</p>